{"version":3,"sources":["webpack:///webpack/bootstrap aa55fce154ea19603ada","webpack:///./example/.tmp/index.js","webpack:///./~/game-hot-widget/index.js","webpack:///./~/game-hot-widget/src/base-widget.js","webpack:///./~/pc-game-util/index.js","webpack:///./~/pc-game-util/bin/class.js","webpack:///./~/pc-game-util/bin/util.js","webpack:///./~/pc-game-util/bin/events.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;ACnCA;AACA;;AAEA;;AAEA;;;AAGA;;;AAGA;;;AAGA;;;;AAIA;;AAEA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;;;AAGA,IAAG;;;AAGH;;;AAGA,IAAG;;;AAGH;;;AAGA,IAAG;;;;AAIH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA,mC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,mC;AACL;AACA;AACA;AACA;AACA,MAAK,K;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA,IAAG;;;AAGH;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED,4B;;;;;;ACvaA;AACA;AACA;;AAEA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB;AAChB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;;;;;;ACrMA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA,8C;;;;;;ACNA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,G;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,mBAAkB;AAClB,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,mBAAkB,SAAS;AAC3B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,qBAAoB,OAAO;AAC3B,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,IAAG;;AAEH;AACA;AACA,cAAa,IAAI;AACjB,cAAa,QAAQ;AACrB,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,E;;;;;;AChRA;AACA;;AAEA;AACA;AACA;AACA,WAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,gBAAe;AACf,uBAAsB;AACtB;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,gBAAe;AACf,2BAA0B,QAAQ;AAClC;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,kBAAiB;AACjB,mBAAkB;AAClB,iBAAgB;AAChB,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,KAAK;AACd;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,iBAAgB;AAChB,mBAAkB;AAClB,iBAAgB;AAChB,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,kBAAiB;AACjB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,+BAA8B,MAAM;AACpC;AACA;AACA;AACA;AACA,aAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,kBAAiB;AACjB,mBAAkB;AAClB,iBAAgB;AAChB,yBAAwB;AACxB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,KAAK;AACd;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,iBAAgB;AAChB,mBAAkB;AAClB,iBAAgB;AAChB,yBAAwB;AACxB,iBAAgB;AAChB,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB,wBAAuB;AACvB,oBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,WAAU,SAAS;AACnB;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB,mBAAkB,SAAS;AAC3B,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB,mBAAkB,SAAS;AAC3B,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,mBAAkB,OAAO;AACzB,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,SAAS;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC,E","file":"js/scrollbar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./example\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap aa55fce154ea19603ada\n **/","\n\n\n\"use strict\";\nconsole.log(require('game-hot-widget'));\n\nvar\n  \n  base = require('pc-game-util'),\n\n  \n  Events = base.dispatcher,\n\n  \n  util = base.util,\n\n  \n  widgetDefine = require('game-hot-widget').widgetDefine;\n\n\n\nvar scrollbar = widgetDefine(\"scrollBar\", {\n  \n  wheelSpeed: 50,\n\n  \n  overflow: false,\n\n  \n  scrollBox: null,\n\n  \n  hasArrow: true,\n\n  \n  upArrow: null,\n\n  \n  downArrow: null,\n\n  \n  track: null,\n\n  \n  trackBox: null,\n\n  \n  trackOnDrag: false,\n\n  \n  dragMerge: 0,\n\n  \n  dragMergeY: 0,\n\n  \n  trackHeight: 0,\n\n  \n  blockHeight: 0,\n\n  \n  ie: false,\n\n  \n  onChangeTimer: 0,\n\n  \n  lastHeight: 0,\n  \n  initialize: function(container, options) {\n    this.addOptions(options);\n    this.ie = /msie/i.test(navigator.userAgent);\n    this.container = $(container);\n    this.event = new Events(this);\n    this.el = $(this.el);\n    this.el.css(\"overflow\", \"hidden\");\n    this.buildEl();\n    this.addEvent();\n    return this;\n  },\n  \n  addEvent: function() {\n    if(this.hasArrow) {\n      \n      this.addArrowEvent();\n    }\n    \n    this.trackBox.on(\"mouseover mouseout mousedown mouseup\", util.bind(this.dispatchTrackEvent, this));\n    $(document).on(\"mousedown\", util.bind(this.downFunc, this));\n    $(document).on(\"mousemove\", util.bind(this.moveFunc, this));\n    $(document).on(\"mouseup\", util.bind(this.upFunc, this));\n    \n    this.track.on(\"mousedown\", util.bind(this.onClickTrack, this));\n    \n    this.el.on(\"mousewheel DOMMouseScroll\", util.bind(this.onWheel, this));\n    this.scrollBox.on(\"mousewheel DOMMouseScroll\", util.bind(this.onWheel, this));\n    \n    this.onChangeTimer = window.setInterval(util.bind(this.onTimer, this), 32);\n  },\n\n  \n  onTimer: function() {\n    var h = this.el[0].scrollHeight;\n    if(this.lastHeight == h)    return;\n    this.lastHeight = h;\n    if(this.trackOnDrag) {\n      this.blockHeight = this.trackBox[0].clientHeight;\n    }\n    this.checkShow(\"listen\");\n  },\n\n  \n  onWheel: function(e) {\n    if(!this.overflow)  return;\n    var evt = e.originalEvent || window.event;\n    evt.stopPropagation && (evt.preventDefault(), evt.stopPropagation()) || (evt.cancelBubble = true, evt.returnValue = false);\n    var scroll = (evt.wheelDelta/120 * -1 || evt.detail / 3) * this.wheelSpeed;\n    this.el[0].scrollTop += scroll;\n    this.checkTrackBlock();\n  },\n\n  \n  onClickTrack: function(e) {\n    var el = e.target || e.srcElement,\n      needReturn = this.ie ? e.button != 1 : e.button != 0;\n    if(needReturn || (el.parentNode == this.trackBox[0] || el == this.trackBox[0])) return;\n    var tbPos = this.getPosition(this.trackBox[0]).top,\n      tPos = this.getPosition(this.track[0]).top,\n      trackPoint = e.clientY - tPos,\n      blockPoint = tbPos - tPos,\n      blockHeight = this.trackBox[0].clientHeight,\n      rt,\n      st;\n    if(trackPoint < blockPoint){\n      rt = trackPoint + 'px';\n      st = parseInt(trackPoint / this.track[0].clientHeight * this.el[0].scrollHeight);\n    }else if(trackPoint > blockHeight + blockPoint){\n      rt = trackPoint - blockHeight + 'px';\n      st = parseInt((trackPoint - blockHeight) / this.track[0].clientHeight * this.el[0].scrollHeight);\n    }\n    this.trackBox[0].style.top = rt;\n    this.el[0].scrollTop = st;\n  },\n  \n  downFunc: function(e) {\n    var el = e.target || e.srcElement,\n      needReturn = this.ie ? e.button != 1 : e.button != 0;\n    if(needReturn || (el.parentNode != this.trackBox[0] && el != this.trackBox[0])) return;\n    if(this.ie && this.trackBox[0].setCapture) {\n      this.trackBox[0].setCapture();\n    } else {\n      e.preventDefault();\n    }\n    var tbPos = this.getPosition(this.trackBox[0]),\n      tPos = this.getPosition(this.track[0]);\n    this.dragMerge = tPos.top;\n    this.dragMergeY = e.clientY - tbPos.top;\n    this.trackHeight = this.track[0].clientHeight;\n    this.blockHeight = this.trackBox[0].clientHeight;\n    this.trackOnDrag = true;\n  },\n\n  \n  moveFunc: function(e) {\n    if(!this.trackOnDrag)   return;\n    var t = e.clientY - this.dragMerge - this.dragMergeY,\n      s = 0,\n      eScroll = this.el[0].scrollHeight;\n    if(t < 0) {\n      t = 0;\n    } else if(t > this.trackHeight - this.blockHeight) {\n      t = this.trackHeight - this.blockHeight;\n      s = eScroll - this.container[0].clientHeight;\n    } else {\n      s = parseInt(t / this.trackHeight * eScroll);\n    }\n    this.trackBox[0].style.top = t + \"px\";\n    this.el[0].scrollTop = s;\n  },\n\n  \n  upFunc: function(e) {\n    if(!this.trackOnDrag)   return;\n    if(this.ie && this.trackBox[0].releaseCapture) {\n      this.trackBox[0].releaseCapture();\n    }\n    this.trackOnDrag = false;\n    this.trackBox[0].className = \"scaredrelic-scrollbox-trackmouseup\";\n  },\n\n  \n  dispatchTrackEvent: function(e) {\n    var type = e.type,\n      button = e.button || 0,\n      className = \"\",\n      w = e.which || 1;\n    switch(type) {\n      case \"mouseout\":\n        className = \"scaredrelic-scrollbox-trackblock\";\n        break;\n      case \"mouseover\":\n      case \"mouseup\":\n      case \"mousedown\":\n        className = \"scaredrelic-scrollbox-track\" + type;\n        break;\n      default:\n        break;\n    }\n    if((button != 0 && w != 1) || className == \"\") return;\n    if(!this.trackOnDrag) {\n      this.trackBox[0].className = className;\n    }\n  },\n\n  \n  addArrowEvent: function() {\n    this.upArrow.on(\"mouseover mouseout mousedown\", util.bind(this.dispatchArrowEvent, this));\n  },\n\n  \n  dispatchArrowEvent: function(e) {\n    var type = e.type;\n    switch(type) {\n      case \"mouseout\":\n        this.arrowButtonOnMouseOut(e);\n        break;\n      case \"mouseover\":\n        this.arrowButtonOnMouseOver(e);\n        break;\n      case \"mousedown\":\n        this.arrowButtonOnMouseDown(e);\n        break;\n      default:\n        break;\n    }\n  },\n\n  \n  arrowButtonOnMouseOut: function(e) {\n    \n\n  },\n\n  \n  arrowButtonOnMouseOver: function(e) {\n    \n\n  },\n\n  \n  arrowButtonOnMouseDown: function(e) {\n    \n\n  },\n\n\n  \n  buildEl: function() {\n    this.scrollBox = $(\"<div class='sacredrelic-scrollbox-box'></div>\");\n    if(this.hasArrow) {\n      this.upArrow = $(\"<div class='scaredrelic-scrollbox-uparrow'></div>\");\n      this.downArrow = $(\"<div class='scaredrelic-scrollbox-downarrow'></div>\");\n      this.scrollBox.append(this.upArrow);\n    }\n    this.track = $(\"<div class='scaredrelic-scrollbox-track'>\");\n    this.trackBox = $(\"<div class='scaredrelic-scrollbox-trackblock'><div class='scaredrelic-scrollbox-trackblocktop'></div><div class='scaredrelic-scrollbox-trackblockbody'></div><div class='scaredrelic-scrollbox-trackblockbottom'></div></div>\");\n    this.track.append(this.trackBox);\n    this.scrollBox.append(this.track);\n    if(!!this.downArrow) {\n      this.scrollBox.append(this.downArrow);\n    }\n    this.container.append(this.scrollBox);\n  },\n\n  \n  checkShow: function(opt) {\n    var \n      uAHeight = this.hasArrow ? this.upArrow[0].clientHeight : 0,\n    \n      dAHeight = this.hasArrow ? this.downArrow[0].clientHeight : 0,\n    \n      cCHeight = this.container[0].clientHeight,\n    \n      cCWidth = this.container[0].clientWidth,\n    \n      eSHeight = this.el[0].scrollHeight,\n    \n      eSTop = this.el[0].scrollTop,\n    \n      eWidth = cCWidth,\n      eHeight = cCHeight;\n    if(cCHeight < eSHeight) {\n      this.overflow = true;\n      this.scrollBox.css({\n        \"display\": \"\",\n        \"height\": cCHeight + \"px\"\n      });\n      this.track.css(\"height\", cCHeight - uAHeight - dAHeight + \"px\");\n      if(cCHeight + eSTop > eSHeight) {\n        this.el[0].scrollTop = eSHeight - cCHeight;\n      }\n      eWidth = cCWidth - this.scrollBox[0].clientWidth;\n      eHeight = cCHeight;\n      this.checkTrackBlock({\n        cH: cCHeight,\n        rS: eSHeight,\n        sT: eSTop\n      });\n    } else {\n      this.overflow = false;\n      this.scrollBox.hide();\n      this.el[0].scrollTop = 0;\n    }\n    this.el.css({\n      \"width\": eWidth + \"px\",\n      \"height\": eHeight + \"px\"\n    });\n  },\n\n  \n  checkTrackBlock: function(opts) {\n    opts = opts || {};\n    var cH = opts.cH || this.container[0].clientHeight,\n      rS = opts.rS || this.el[0].scrollHeight,\n      sT = opts.sT || this.el[0].scrollTop,\n      tH = this.track[0].clientHeight;\n    var curH = (tH * cH / rS) >> 0,\n      bHeight = curH < 6 ? 6 : curH;\n    this.trackBox.css(\"height\", bHeight + \"px\");\n    this.trackBox.find(\"div\")[1].style.height = bHeight - 4 + \"px\";\n    var t = (tH * sT / rS) >> 0;\n    this.trackBox.css(\"top\", t + \"px\");\n  },\n\n  \n  getPosition: function(el){\n    var ua = navigator.userAgent.toLowerCase();\n    var parent = null;\n    var pos = [];\n    var box;\n    if (el.getBoundingClientRect){ \n      box = el.getBoundingClientRect();\n      var scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop);\n      var scrollLeft = Math.max(document.documentElement.scrollLeft, document.body.scrollLeft);\n      return {\n        left: box.left + scrollLeft,\n        top: box.top + scrollTop\n      };\n    }else if (document.getBoxObjectFor){ \n      box = document.getBoxObjectFor(el);\n      var borderLeft = (el.style.borderLeftWidth) ? parseInt(el.style.borderLeftWidth) : 0;\n      var borderTop = (el.style.borderTopWidth) ? parseInt(el.style.borderTopWidth) : 0;\n      pos = [box.x - borderLeft, box.y - borderTop];\n    }else{ \n      pos = [el.offsetLeft, el.offsetTop];\n      parent = el.offsetParent;\n      if (parent != el) {\n        while (parent) {\n          pos[0] += parent.offsetLeft;\n          pos[1] += parent.offsetTop;\n          parent = parent.offsetParent;\n        }\n      }\n      if (/opera/.test(ua) || (/safari/.test(ua) && el.style.position == 'absolute')) {\n        pos[0] -= document.body.offsetLeft;\n        pos[1] -= document.body.offsetTop;\n      }\n    }\n    el.parentNode ? parent = el.parentNode : parent = null;\n    while (parent && parent.tagName.toUpperCase() != 'BODY' && parent.tagName.toUpperCase() != 'HTML') { \n      pos[0] -= parent.scrollLeft;\n      pos[1] -= parent.scrollTop;\n      parent.parentNode ? parent = parent.parentNode : parent = null;\n    }\n    return {\n      left: pos[0],\n      top: pos[1]\n    }\n  },\n\n  \n  resize: function() {\n    this.checkShow();\n    this.el.css(\"height\", this.container[0].clientHeight + \"px\");\n  },\n\n  \n  scrollTo: function(v) {\n    this.el[0].scrollTop = v;\n    this.checkTrackBlock();\n  },\n\n  \n  scrollToTop: function() {\n    this.scrollTo(0);\n  },\n\n  \n  scrollToBottom: function() {\n    this.scrollTo(this.el[0].scrollHeight - this.container[0].clientHeight)\n  },\n\n  \n  dispose: function() {\n    window.clearInterval(this.onChangeTimer);\n    if(this.overflow) {\n      this.el.css(\"width\", this.container[0].clientWidth + \"px\");\n    }\n    $(document).off(\"mousedown\", util.bind(this.downFunc, this));\n    $(document).off(\"mousemove\", util.bind(this.moveFunc, this));\n    $(document).off(\"mouseup\", util.bind(this.upFunc, this));\n    this.el.off(\"mousewheel DOMMouseScroll\", util.bind(this.onWheel, this));\n    this.scrollBox.off(\"mousewheel DOMMouseScroll\", util.bind(this.onWheel, this));\n    this.scrollBox.remove();\n    for(var item in this){\n      this[item] = null;\n    }\n  },\n\n  CLASS_NAME: \"SacredRelic.ScrollBar\"\n});\n\nmodule.exports = scrollbar;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./example/.tmp/index.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\n * game-hot-widget main\n */\n\nmodule.exports.widgetDefine = require('./src/base-widget');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/game-hot-widget/index.js\n ** module id = 2\n ** module chunks = 0\n **/","/**\n * abstract class, provides base ui\n *\n * @module Widget\n * @version 0.0.3\n */\n\n\"use strict\";\n\nif(!$ && !JQuery) {\n  throw new Error('jQuery is undefined');\n}\n\nvar\n  /**\n   * @desc 团队工具包\n   * @type {exports}\n   */\n  base = require('pc-game-util'),\n\n  /**\n   * @desc 类定义\n   * @type {exports}\n   */\n  define = base.define,\n\n  /**\n   * @desc 自定义事件类\n   * @type {exports.dispatcher|*}\n   */\n  Events = base.dispatcher,\n\n  /**\n   * @desc 工具\n   * @type {exports.util|*}\n   */\n  utils = base.util;\n\nvar BaseWidgetClass = define({\n  /**\n   * @property container\n   * @type DOMElement\n   */\n  container: null,\n\n  /**\n   * @property el\n   * @type DOMElement\n   */\n  el: null,\n\n  /**\n   * @property options\n   * @type Object\n   */\n  options: null,\n\n  /**\n   * @property id\n   * @type String\n   */\n  id: null,\n\n  /**\n   * @property event\n   * @type Event\n   * @see events.js\n   */\n  event: null,\n\n  /**\n   * @constructor\n   * @param el {DOMElement|String}\n   * @param options {Object}\n   */\n  initialize: function(container, options) {\n    this.container = $(container);\n    this.addOptions(options);\n    this.event = new Events(this);\n    this.id = this.id || utils.createUniqueID(this.CLASS_NAME + \"_\");\n    this.el = $(\"<div></div>\").attr(\"id\", this.id);\n    this.render();\n    return this;\n  },\n  /**\n   * @method on\n   */\n  on: function(ev, callback) {\n    this.event.on(ev, callback, this);\n    return this;\n  },\n\n  /**\n   * @method off\n   */\n  un: function(ev, callback) {\n    this.event.un(ev, callback, this);\n    return this;\n  },\n\n\n  /**\n   * @method trigger\n   */\n  trigger: function(ev, data) {\n    this.event.triggerEvent(ev, data);\n    return this;\n  },\n\n  /**\n   * @method render\n   */\n  render: function() {\n    var len = arguments.length;\n    if(len == 0) {\n      this.container = this.container || $(document.body);\n    } else {\n      this.container = $(arguments[0]);\n    }\n    this.container.append(this.el);\n  },\n  /**\n   * @method root\n   */\n  root: function(el) {\n    return this.el = el || this.el;\n  },\n\n  /**\n   * @public\n   * @method Widget.show\n   */\n  show: function() {\n    this.el.show();\n  },\n\n  /**\n   * @public\n   * @method Widget.hide\n   */\n  hide: function() {\n    this.el.hide();\n  },\n\n  /**\n   * @public\n   * @method Widget.toggle\n   */\n  toggle: function() {\n    this.el.toggle();\n  },\n\n  /**\n   * 深度绑定\n   *\n   * @method addOptions\n   * @priavate\n   * @param newOptions {Object}\n   */\n  addOptions: function(newOptions) {\n    if (this.options == null) {\n      this.options = {};\n    }\n    $.extend(this.options, newOptions);\n    $.extend(this, newOptions);\n  },\n\n  /**\n   * @property CLASS_NAME\n   * @type String\n   */\n  CLASS_NAME: \"Widget\"\n});\n\n/**\n * 派生\n *\n * @method addOptions\n * @priavate\n * @param newOptions {Object}\n */\nmodule.exports = function() {\n  var ars = Array.prototype.slice.call(arguments).slice(0, 2),\n    len = ars.length;\n  if(len < 2) throw new Error(\"Illegal arguments!\");\n  var N = ars[0],\n      P = ars[1];\n  var C = define(BaseWidgetClass, P);\n  $.fn[N] = function(opts) {\n    return this.each(function() {\n      var widget = $.data(this, \"SacredRelic_ui_\" + N);\n      if(!widget) {\n        widget = new C($(this), opts);\n        $.data(this, \"SacredRelic_ui_\" + N, widget);\n      }\n    });\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/game-hot-widget/src/base-widget.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * @file 模块入口\n * @type {exports}\n */\nmodule.exports.define = require('./bin/class');\nmodule.exports.dispatcher = require('./bin/events');\nmodule.exports.util = require('./bin/util');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/pc-game-util/index.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\n * @file\n * webapp组件基础库文件，主要用于通用组件的类结构声明\n */\n\nvar util = require('./util');\n\nvar superclass = function(sp) {\n  var s = function() {\n    var name = (s.caller || {}).name;\n    var len = arguments.length, t = this;\n    var supper = arguments.callee.superclass;\n    if (!name) {\n      for(var n in t) {\n        if(t[n] == s.caller) {\n          name = n;\n          break;\n        }\n      }\n    }\n    if(len > 0 && name) {\n      var callArgs = Array.prototype.slice.call(arguments, 0);\n      Array.prototype.splice.apply(callArgs, [0, 1]);\n      return supper[name](callArgs);\n    }\n    return supper;\n  }\n  s.superclass = sp;\n  return s;\n};\n\nfunction inherit(child, father) {\n  var f = function() {},\n    cp,\n    fp = father.prototype;\n  f.prototype = fp;\n  cp = child.prototype = new f;\n  cp.constructor = child;\n  $.each(Array.prototype.slice.apply(arguments, [2]), function(index, item) {\n    if(typeof item === \"function\") {\n      item = item.prototype;\n    }\n    util.mixin(child.prototype, item);\n  });\n  cp.superclass = superclass(fp);\n}\n\n\nvar define = module.exports = function() {\n  var len = arguments.length,\n    s = arguments[0],\n    i = arguments[len - 1];\n  var nc = typeof i.initialize == \"function\" ? i.initialize :\n    function() {\n      s.apply && s.apply(this, arguments);\n    };\n  if(len > 1) {\n    var newArgs = [nc, s].concat(Array.prototype.slice.call(arguments).slice(1, len - 1), i);\n    inherit.apply(null, newArgs);\n  } else {\n    nc.prototype = i;\n    nc.prototype.constructor = nc;\n  }\n  return nc;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/pc-game-util/bin/class.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\n * @file util group\n */\nvar\n  /**\n   * @desc util.createUniqueID的初始值\n   * @type {number}\n   */\n  lastSeqId = 0,\n\n  /**\n   * 转义map\n   */\n  escapeMap = {\n    \"\\b\": '\\\\b',\n    \"\\t\": '\\\\t',\n    \"\\n\": '\\\\n',\n    \"\\f\": '\\\\f',\n    \"\\r\": '\\\\r',\n    '\"': '\\\\\"',\n    \"\\\\\": '\\\\\\\\'\n  };\n\n/**\n * @desc 转义日期对象 for util.jsonEncode\n * @param source\n * @returns {string}\n */\nfunction encodeDate(source) {\n  return ['\"', +source, '\"'].join(\"\");\n}\n\n/**\n * @desc 转义数组对象 for util.jsonEncode\n * @param source\n * @returns {string}\n */\nfunction encodeArray(source) {\n  var result = [\"[\"], l = source.length, preComma, i, item;\n  for (i = 0; i < l; i++) {\n    item = source[i];\n    switch (typeof item) {\n      case \"undefined\":\n      case \"function\":\n      case \"unknown\":\n        break;\n      default:\n        if (preComma) {\n          result.push(',');\n        }\n        result.push(util.jsonEncode(item));\n        preComma = 1;\n        break;\n    }\n  }\n  result.push(\"]\");\n  return result.join(\"\");\n}\n\n/**\n * @desc 转义字符串对象 for util.jsonEncode\n * @param source\n * @returns {string}\n */\nfunction encodeString(source) {\n  if (/[\"\\\\\\x00-\\x1f]/.test(source)) {\n    source = source.replace(/[\"\\\\\\x00-\\x1f]/g, function (match) {\n      var c = escapeMap[match];\n      if (c) {\n        return c;\n      }\n      c = match.charCodeAt();\n      return \"\\\\u00\" +\n        Math.floor(c / 16).toString(16) +\n        (c % 16).toString(16);\n    });\n  }\n  return ['\"', source, '\"'].join(\"\");\n}\n\nvar util = module.exports = {\n\n  mixin: function (destination, source) {\n    destination = destination || {};\n    if(source) {\n      for(var property in source) {\n        var value = source[property];\n        if(value !== undefined) {\n          destination[property] = value;\n        }\n      }\n      var sourceIsEvt = typeof window.Event == \"function\"\n        && source instanceof window.Event;\n\n      if (!sourceIsEvt && source.hasOwnProperty && source.hasOwnProperty(\"toString\")) {\n        destination.toString = source.toString;\n      }\n    }\n    return destination;\n  },\n\n  /**\n   * @method util.bind\n   * @param func {Function}\n   * @param object {Object}\n   */\n  bind: function(func, object) {\n    // create a reference to all arguments past the second one\n    var args = Array.prototype.slice.apply(arguments, [2]);\n    return function() {\n      // Push on any additional arguments from the actual function call.\n      // These will come after those sent to the bind call.\n      var newArgs = args.concat(\n        Array.prototype.slice.apply(arguments, [0])\n      );\n      return func.apply(object, newArgs);\n    };\n  },\n\n  /**\n   * @method util.bindAsEventListener\n   * @param func {Function} 作为事件监听的函数\n   * @param object {Object} 作用域\n   */\n  bindAsEventListener: function(func, object) {\n    return function(event) {\n      return func.call(object, event || window.event);\n    };\n  },\n\n  /**\n   * @method util.createUniqueID\n   * @param prefix {String} 前缀\n   * @return {String} 全局唯一的一个字符串\n   */\n  createUniqueID: function(prefix) {\n    prefix = (prefix === null || prefix === undefined) ? \"pc_game_\" : prefix.replace(/\\./g, \"_\");\n    return prefix + (lastSeqId++);\n  },\n\n  /**\n   * @method util.g\n   * @param el\n   * @desc 靠id拿个节点 由于只是简单支持 没有必要写得那么高级\n   */\n  g: function(el) {\n    var el = ('[object String]' == Object.prototype.toString.call(el) ?\n      document.getElementById(el) : (!!(el && 'object' == typeof el) && el));\n    return el || null;\n  },\n\n  /**\n   * @method util.jsonEncode\n   */\n  jsonEncode: function(val) {\n    switch (typeof val) {\n      case 'undefined':\n        return '\"\"';\n      case 'number':\n        return ['\"', val, '\"'].join(\"\");\n      case 'string':\n        return encodeString(val);\n      case 'boolean':\n        return ['\"', val, '\"'].join(\"\");\n      default:\n        if(val === null) {\n          return '\"\"';\n        } else if(val instanceof Array) {\n          return encodeArray(val);\n        } else if(val instanceof Date) {\n          return encodeDate(val);\n        } else {\n          var result = ['{'], preComma, item;\n          for (var key in val) {\n            if (val.hasOwnProperty(key)) {\n              item = val[key];\n              switch(typeof item) {\n                case 'undefined':\n                case 'unknown':\n                case 'function':\n                  break;\n                default:\n                  if(preComma) {\n                    result.push(',');\n                  }\n                  preComma = 1;\n                  result.push(util.jsonEncode(key) + ':' + util.jsonEncode(item));\n              }\n            }\n          }\n          result.push('}');\n          return result.join('');\n        }\n        break;\n    }\n  },\n\n  /**\n   * @param str\n   * @returns {string}\n   */\n  trim: function(str) {\n    str = String(str);\n    return !!str.trim ? str.trim() : str.replace(new RegExp(\"(^[\\\\s\\\\t\\\\xa0\\\\u3000]+)|([\\\\u3000\\\\xa0\\\\s\\\\t]+\\x24)\", \"g\"), '');\n  },\n\n  /**\n   * @decs method util.camelCase\n   */\n  camelCase: function(str) {\n    str = util.trim(str);\n    if (str.length === 1 || !(/[_.\\- ]+/).test(str) ) {\n      return str;\n    }\n    return str\n      .replace(/^[_.\\- ]+/, '')\n      .replace(/[_.\\- ]+(\\w|$)/g, function (m, p1) {\n        return p1.toUpperCase();\n      });\n  },\n\n  /**\n   * @desc 获取时间\n   * @param {int} dateNum 日期秒数\n   * @param {Boolean} isFull 是否显示完整时间\n   * @returns {string}\n   */\n  getTime: function(dateNum, isFull) {\n    var d = new Date(dateNum * 1000),\n      now = new Date(),\n      curYear = d.getUTCFullYear(),\n      nowYear = now.getUTCFullYear(),\n      curMonth = d.getUTCMonth() + 1,\n      nowMonth = now.getUTCMonth() + 1,\n      curDate = d.getDate(),\n      nowDate = now.getDate(),\n      curHour = d.getHours(),\n      curMin = d.getMinutes(),\n      curSec = d.getSeconds();\n\n    var needFull = !(curYear == nowYear && curMonth == nowMonth && curDate == nowDate) || isFull,\n      fullTime = curYear + '-' + (curMonth < 10 ? '0' + curMonth: curMonth) + '-' + (curDate < 10 ? '0' + curDate: curDate) + ' ' + (curHour < 10 ? '0' + curHour: curHour) + ':' + (curMin < 10 ? '0' + curMin: curMin) + ':' + (curSec < 10 ? '0' + curSec: curSec),\n      shortTime = (curHour < 10 ? '0' + curHour: curHour) + ':' + (curMin < 10 ? '0' + curMin: curMin) + ':' + (curSec < 10 ? '0' + curSec: curSec);\n    return needFull ? fullTime: shortTime;\n  },\n\n  /**\n   * @desc 在textarea框里光标所在处插入value\n   * @method insert2TextArea\n   * @param el {DOMElement} input框\n   * @param value {String} 要插入的值\n   */\n  insert2TextArea: function(el, value) {\n    if(document.selection) {\n      el.focus();\n      var sel = document.selection.createRange();\n      sel.txt = value;\n      el.focus();\n    } else if(el.selectionStart || el.selectionStart == \"0\") {\n      var spos = el.selectionStart,\n        epos = el.selectionEnd,\n        scrollT = el.scrollTop;\n      el.value = el.value.substring(0, spos) + value + el.value.substring(epos, el.value.length);\n      el.focus();\n      el.selectionStart = spos + value.length;\n      el.selectionEnd = spos + value.length;\n      el.scrollTop = scrollT;\n    } else {\n      el.value += value;\n      el.focus();\n    }\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/pc-game-util/bin/util.js\n ** module id = 6\n ** module chunks = 0\n **/","var define = require('./class');\nvar util = require('./util');\n\n/**\n * 定义库内事件支撑\n * @namespace event\n * @type {object}\n */\nvar event = {\n\n  /**\n   * @property observers\n   * @desc 一个缓存事件监听的hash表\n   * @type {object}\n   */\n  observers: null,\n\n  /**\n   * @method octopus.event.element\n   * @desc 返回事件的节点\n   * @param e {window.event}\n   * @return 触发事件的节点 {DOMElement}\n   */\n  element: function(e) {\n    return e.target || e.srcElement;\n  },\n\n  /**\n   * @method event.stop\n   * @desc 把事件停了\n   * @param e {window.event}\n   * @param allowDefault {Boolean} -   是否把默认响应停了\n   */\n  stop: function(e, allowDefault) {\n    if(!allowDefault) {\n      if(e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n    }\n\n    if(e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  },\n\n  /**\n   * @method event.on\n   * @desc 监听事件\n   * @param dom {String | DOMElement}\n   * @param name {String}\n   * @param fn {Function}\n   * @param useCapture {Boolean}\n   */\n  on: function(dom, name, fn, useCapture) {\n    var names = name.split(\" \"),\n      len = names.length,\n      i = len;\n    if(len == 0)    return false;\n    var element = util.g(dom),\n      that = event;\n    useCapture = useCapture || false;\n    if(!that.observers) {\n      that.observers = {};\n    }\n    if(!element._eventCacheID) {\n      var idPrefix = \"eventCacheID_\";\n      if (element.id) {\n        idPrefix = element.id + \"_\" + idPrefix;\n      }\n      element._eventCacheID = util.createUniqueID(idPrefix);\n    }\n    for(; i--; ) {\n      that._on(element, names[i], fn, useCapture);\n    }\n    return element;\n  },\n\n  /**\n   * @private\n   * @method event._on\n   * @desc 监听事件\n   * @param el {DOMElement}\n   * @param name {String}\n   * @param fn {Function}\n   * @param useCapture {Boolean}\n   */\n  _on: function(el, name, fn, useCapture) {\n    var cacheID = el._eventCacheID,\n      that = event;\n    if(!that.observers[cacheID]) {\n      that.observers[cacheID] = [];\n    }\n    that.observers[cacheID].push({\n      'element': el,\n      'name': name,\n      'observer': fn,\n      'useCapture': useCapture\n    });\n    if(el.addEventListener) {\n      el.addEventListener(name, fn, useCapture);\n    } else if (el.attachEvent) {\n      el.attachEvent('on' + name, fn);\n    }\n  },\n\n  /**\n   * @method event.stopObservingElement\n   * @desc 把指定节点的所有事件监听停掉\n   * @param dom {DOMElement}\n   */\n  stopObservingElement: function(dom) {\n    var element = util.g(dom);\n    var cacheID = element._eventCacheID;\n    this._removeElementObservers(o.event.observers[cacheID]);\n  },\n\n  /**\n   * @method event.stopEventObserver\n   * @param dom {DOMElement}\n   * @param e {String} 指定停掉的事件类型\n   * @desc 此方法会将指定节点上的指定方法的所有事件监听停掉 慎用\n   */\n  stopEventObserver: function(dom, e) {\n    var cacheID = util.g(dom)._eventCacheID,\n      that = event,\n      elementObservers = that.observers[cacheID];\n    if (elementObservers) {\n      var i = elementObservers.length;\n      for(; i--; ) {\n        var entry = elementObservers[i];\n        if(e == entry.name) {\n          var args = new Array(entry.element,\n            entry.name,\n            entry.observer,\n            entry.useCapture);\n          that.un.apply(this, args);\n        }\n      }\n    }\n  },\n\n  /**\n   * @private\n   * @method _removeElementObservers\n   * @desc具体做事情的方法\n   * @param elementObservers {Array} 一堆事件缓存对象\n   */\n  _removeElementObservers: function(elementObservers) {\n    if (elementObservers) {\n      var i =  elementObservers.length;\n      for( ; i--; ) {\n        var entry = elementObservers[i];\n        var args = new Array(entry.element,\n          entry.name,\n          entry.observer,\n          entry.useCapture);\n        event.un.apply(this, args);\n      }\n    }\n  },\n\n  /**\n   * @method event.un\n   * @desc 单删一个指定事件监听\n   * @param dom {String | DOMElement}\n   * @param name {String}\n   * @param fn {Function}\n   * @param useCapture {Boolean}\n   * @return {Boolean} 返回解除监听是否成功\n   */\n  un: function(dom, name, fn, useCapture) {\n    var names = name.split(\" \"),\n      len = names.length,\n      i = len;\n    if(len == 0)    return false;\n    var element = util.g(dom),\n      cacheID = element._eventCacheID,\n      foundEntry = false;\n    useCapture = useCapture || false;\n    for(; i--; ) {\n      foundEntry = event._un(element, names[i], fn, useCapture, cacheID);\n    }\n    return foundEntry;\n  },\n\n  /**\n   * @private\n   * @method event._un\n   * @desc 单删一个指定事件监听\n   * @param el {DOMElement}\n   * @param name {String}\n   * @param fn {Function}\n   * @param useCapture {Boolean}\n   * @param id {String}\n   * @return {Boolean} 返回解除监听是否成功\n   */\n  _un: function(el, name, fn, useCapture, id) {\n    if(name == 'keypress') {\n      if( navigator.appVersion.match(/Konqueror|Safari|KHTML/) ||\n        el.detachEvent) {\n        name = 'keydown';\n      }\n    }\n    var foundEntry = false,\n      elementObservers = event.observers[id];\n    if (elementObservers) {\n      var i=0;\n      while(!foundEntry && i < elementObservers.length) {\n        var cacheEntry = elementObservers[i];\n        if ((cacheEntry.name == name) &&\n          (cacheEntry.observer == fn) &&\n          (cacheEntry.useCapture == useCapture)) {\n          elementObservers.splice(i, 1);\n          if (elementObservers.length == 0) {\n            event.observers[id] = null;\n          }\n          foundEntry = true;\n          break;\n        }\n        i++;\n      }\n    }\n    if (foundEntry) {\n      if (el.removeEventListener) {\n        el.removeEventListener(name, fn, useCapture);\n      } else if (el && el.detachEvent) {\n        el.detachEvent('on' + name, fn);\n      }\n    }\n    return foundEntry;\n  },\n\n  /**\n   * @property unloadCache\n   * @desc 页面销毁的时候希望可以释放掉所有监听\n   */\n  unloadCache: function() {\n    if (event && event.observers) {\n      for (var cacheID in event.observers) {\n        var elementObservers = event.observers[cacheID];\n        event._removeElementObservers.apply(this,\n          [elementObservers]);\n      }\n      event.observers = false;\n    }\n  }\n};\n\n/**\n * @class Events\n * @desc 自定义事件类\n * @param object {Object} 观察订阅事件的对象 必需\n * @param fallThrough {Boolean}\n * @param options {Object}\n */\nvar Events = module.exports = define({\n\n  /**\n   * @private\n   * @constant Events.BROWSER_EVENTS\n   * @desc 常规的浏览器事件\n   */\n  BROWSER_EVENTS: [\n    \"mouseover\", \"mouseout\", \"mousedown\", \"mouseup\", \"mousemove\",\n    \"click\", \"dblclick\", \"rightclick\", \"dblrightclick\",\n    \"resize\",\n    \"focus\", \"blur\",\n    \"touchstart\", \"touchmove\", \"touchend\",\n    \"keydown\"\n  ],\n\n  /**\n   * @private\n   * @property listeners\n   * @type {object}\n   * @desc 事件监听的hash表\n   */\n  listeners: null,\n\n  /**\n   * @private\n   * @property obj\n   * @type {object}\n   * @desc 事件对象所属的主体\n   */\n  obj: null,\n\n  /**\n   * @private\n   * @constructor: Events.initialize\n   * @param obj {Object} 观察订阅事件的对象 必需\n   * @param options {Object}\n   */\n  initialize: function(obj, options) {\n    util.mixin(this, options);\n    this.obj = obj;\n    this.listeners = {};\n    if (this.el != null) {\n      this.fallThrough = this.fallThrough || false;\n      this.attachToElement();\n    }\n  },\n\n  /**\n   * @private\n   * @method attachToElement\n   * @param el {DOMElement}\n   */\n  attachToElement: function() {\n    if (this.el) {\n      event.stopObservingElement(this.el);\n    } else {\n      this.eventHandler = util.bindAsEventListener(this.handleBrowserEvent, this);\n    }\n    var i = 0,\n      len = this.BROWSER_EVENTS.length;\n    for (; i < len; i++) {\n      event.on(this.BROWSER_EVENTS[i], this.eventHandler);\n    }\n    // 不去掉ie下会2掉\n    event.on(\"dragstart\", event.stop);\n  },\n\n  /**\n   * @private\n   * @method handleBrowserEvent\n   * @desc 在指定dom节点的情况下 封装该dom触发的event属性\n   */\n  handleBrowserEvent: function(evt) {\n    var type = evt.type,\n      listeners = this.listeners[type];\n    if(!listeners || listeners.length == 0) return;\n    var touches = evt.touches;\n    if (touches && touches[0]) {\n      var x = 0,\n        y = 0,\n        num = touches.length,\n        touch,\n        i = 0;\n      for (; i < num; ++i) {\n        touch = touches[i];\n        x += touch.clientX;\n        y += touch.clientY;\n      }\n      evt.clientX = x / num;\n      evt.clientY = y / num;\n    }\n    this.triggerEvent(type, evt);\n  },\n\n  /**\n   * @method Events.destroy\n   * @public\n   * @desc 创建的事件对象自我解脱\n   */\n  destroy: function () {\n    this.listeners = null;\n    this.obj = null;\n    this.fallThrough = null;\n  },\n\n  /**\n   * @method Events.on\n   * @public\n   * @desc 添加自定义事件监听\n   * @param type {String} 事件类型\n   * @param func {Function} 回调\n   * @param obj {Object} 事件绑定的对象 默认为this.object\n   */\n  on: function(type, func, obj) {\n    if (func != null) {\n      if (obj == null || obj == undefined)  {\n        obj = this.obj;\n      }\n      var listeners = this.listeners[type];\n      if (!listeners) {\n        listeners = [];\n        this.listeners[type] = listeners;\n      }\n      var listener = {obj: obj, func: func};\n      listeners.push(listener);\n    }\n  },\n\n  /**\n   * @method Events.un\n   * @public\n   * @desc 取消自定义事件的监听\n   * @param type {String} 事件类型\n   * @param func {Function} 触发回调\n   * @param obj {Object} 默认自身\n   */\n  un: function(type, func, obj) {\n    if (obj == null)  {\n      obj = this.obj;\n    }\n    var listeners = this.listeners[type];\n    if (listeners != null) {\n      for (var i=0, len=listeners.length; i<len; i++) {\n        if (listeners[i].obj == obj && listeners[i].func == func) {\n          listeners.splice(i, 1);\n          break;\n        }\n      }\n    }\n  },\n\n  /**\n   * @method Events.triggerEvent\n   * @desc 触发事件\n   * @param type {String} 触发事件类型\n   * @param evt {Object}\n   */\n  triggerEvent: function(type, evt) {\n    var listeners = this.listeners[type];\n    if(!listeners || listeners.length == 0) return undefined;\n    if (evt == null) {\n      evt = {};\n    }\n    evt.obj = this.obj;\n    evt.el = this.el;\n    if(!evt.type) {\n      evt.type = type;\n    }\n    //clone一份\n    listeners = listeners.slice();\n    var continueChain,\n      i = 0,\n      len = listeners.length;\n    for (; i < len; i++) {\n      var callback = listeners[i];\n      continueChain = callback.func.apply(callback.obj, [evt]);\n      if (continueChain === false) {\n        break;\n      }\n    }\n    if (!this.fallThrough) {\n      event.stop(evt);\n    }\n    return continueChain;\n  },\n\n  /**\n   * @method Events.remove\n   * @public\n   * @desc 直接把指定事件类型的监听回调置空\n   * @param type {String}\n   */\n  remove: function(type) {\n    if (this.listeners[type] != null) {\n      this.listeners[type] = [];\n    }\n  },\n\n  /**\n   * @method Events.register\n   * @desc 批量增加事件\n   * @param evs {Object}\n   */\n  register: function(evs) {\n    for(var type in evs) {\n      if(type != \"scope\" && evs.hasOwnProperty(type)) {\n        this.on(type, evs[type], evs.scope);\n      }\n    }\n  },\n\n  /**\n   * @method Events.unregister\n   * @desc 批量去除事件\n   * @param evs {Object}\n   */\n  unregister: function(evs) {\n    for(var type in evs) {\n      if(type != \"scope\" && evs.hasOwnProperty(type)) {\n        this.un(type, evs[type], evs.scope);\n      }\n    }\n  }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/pc-game-util/bin/events.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}